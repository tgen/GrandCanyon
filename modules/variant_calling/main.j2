{% from 'modules/variant_calling/deepvariant.j2' import deepvariant with context %}
{% from 'modules/variant_calling/cutesv.j2' import cutesv with context %}
{% from 'modules/variant_calling/longshot.j2' import longshot with context %}
{% from 'modules/variant_calling/sniffles.j2' import sniffles with context %}
{% from 'modules/variant_calling/pbsv.j2' import pbsv with context %}
{% from 'modules/variant_calling/severus.j2' import severus with context %}
{% from 'modules/variant_calling/dysgu.j2' import dysgu with context %}
{% from 'modules/variant_calling/cytocad.j2' import cytocad with context %}
{% from 'modules/variant_calling/hifi_cnv.j2' import hifi_cnv with context %}

{%- macro constitutional_variant_calling(samples) %}

{%- for sample in samples.values() if sample.gltype in ('exome', 'genome', 'genomephased') %}

  {%- if sample.subGroup|lower != 'tumor' %}
    {{- deepvariant(sample) }}
    {{- cutesv(sample) }}
    {{- longshot(sample) }}
    {{- sniffles(sample) }}
    {{- severus(sample) }}
    {{- dysgu(sample) }}
    {{- cytocad(sample) }}
    {% if sample.rgpl in ('PACBIO') %}
      {{- pbsv(sample) }}
      {{- hifi_cnv(sample) }}
    {% endif %}
  {% endif %}

{% endfor %}

{% endmacro %}

